{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport PRODUCTS from \"../../data/dummy-data\";\nimport Product from \"../../models/product\";\nimport { CREATE_PRODUCT, DELETE_PRODUCT, UPDATE_PRODUCT } from \"../action/products\";\nvar initialState = {\n  availableProducts: PRODUCTS,\n  userProducts: PRODUCTS.filter(function (prod) {\n    return prod.ownerId === \"u1\";\n  })\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CREATE_PRODUCT:\n      var newProduct = new Product(action.productData.id, \"u1\", action.productData.title, action.productData.imageUrl, action.productData.description, action.productData.price);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        availableProducts: state.availableProducts.concat(newProduct),\n        userProducts: state.userProducts.concat(newProduct)\n      });\n\n    case UPDATE_PRODUCT:\n      var productIndex = state.userProducts.findIndex(function (prod) {\n        return prod.id === action.pid;\n      });\n      var updatedProduct = new Product(action.pid, state.userProducts[productIndex].ownerId, action.productData.title, action.productData.imageUrl, action.productData.description, state.userProducts[productIndex].price);\n\n      var updatedUserProducts = _toConsumableArray(state.userProducts);\n\n      updatedUserProducts[productIndex] = updatedProduct;\n      var availableProductIndex = state.availableProducts.findIndex(function (prod) {\n        return prod.id === action.pid;\n      });\n\n      var updatedAvailableProducts = _toConsumableArray(state.availableProducts);\n\n      updatedAvailableProducts[availableProductIndex] = updatedProduct;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        availableProducts: updatedAvailableProducts,\n        userProducts: updatedUserProducts\n      });\n\n    case DELETE_PRODUCT:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        userProducts: state.userProducts.filter(function (product) {\n          return product.id !== action.pid;\n        }),\n        availableProducts: state.availableProducts.filter(function (product) {\n          return product.id !== action.pid;\n        })\n      });\n  }\n\n  return state;\n});","map":{"version":3,"sources":["/home/kumar/KUMAR/REACT-NATIVE/TheShopApp/store/reducers/products.js"],"names":["PRODUCTS","Product","CREATE_PRODUCT","DELETE_PRODUCT","UPDATE_PRODUCT","initialState","availableProducts","userProducts","filter","prod","ownerId","state","action","type","newProduct","productData","id","title","imageUrl","description","price","concat","productIndex","findIndex","pid","updatedProduct","updatedUserProducts","availableProductIndex","updatedAvailableProducts","product"],"mappings":";;;;;;;AAAA,OAAOA,QAAP;AACA,OAAOC,OAAP;AACA,SACEC,cADF,EAEEC,cAFF,EAGEC,cAHF;AAMA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,iBAAiB,EAAEN,QADA;AAEnBO,EAAAA,YAAY,EAAEP,QAAQ,CAACQ,MAAT,CAAgB,UAACC,IAAD;AAAA,WAAUA,IAAI,CAACC,OAAL,KAAiB,IAA3B;AAAA,GAAhB;AAFK,CAArB;AAKA,gBAAe,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AAC/C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKX,cAAL;AACE,UAAMY,UAAU,GAAG,IAAIb,OAAJ,CACjBW,MAAM,CAACG,WAAP,CAAmBC,EADF,EAEjB,IAFiB,EAGjBJ,MAAM,CAACG,WAAP,CAAmBE,KAHF,EAIjBL,MAAM,CAACG,WAAP,CAAmBG,QAJF,EAKjBN,MAAM,CAACG,WAAP,CAAmBI,WALF,EAMjBP,MAAM,CAACG,WAAP,CAAmBK,KANF,CAAnB;AAQA,6CACKT,KADL;AAEEL,QAAAA,iBAAiB,EAAEK,KAAK,CAACL,iBAAN,CAAwBe,MAAxB,CAA+BP,UAA/B,CAFrB;AAGEP,QAAAA,YAAY,EAAEI,KAAK,CAACJ,YAAN,CAAmBc,MAAnB,CAA0BP,UAA1B;AAHhB;;AAMF,SAAKV,cAAL;AACE,UAAMkB,YAAY,GAAGX,KAAK,CAACJ,YAAN,CAAmBgB,SAAnB,CACnB,UAACd,IAAD;AAAA,eAAUA,IAAI,CAACO,EAAL,KAAYJ,MAAM,CAACY,GAA7B;AAAA,OADmB,CAArB;AAGA,UAAMC,cAAc,GAAG,IAAIxB,OAAJ,CACrBW,MAAM,CAACY,GADc,EAErBb,KAAK,CAACJ,YAAN,CAAmBe,YAAnB,EAAiCZ,OAFZ,EAGrBE,MAAM,CAACG,WAAP,CAAmBE,KAHE,EAIrBL,MAAM,CAACG,WAAP,CAAmBG,QAJE,EAKrBN,MAAM,CAACG,WAAP,CAAmBI,WALE,EAMrBR,KAAK,CAACJ,YAAN,CAAmBe,YAAnB,EAAiCF,KANZ,CAAvB;;AASA,UAAMM,mBAAmB,sBAAOf,KAAK,CAACJ,YAAb,CAAzB;;AACAmB,MAAAA,mBAAmB,CAACJ,YAAD,CAAnB,GAAoCG,cAApC;AACA,UAAME,qBAAqB,GAAGhB,KAAK,CAACL,iBAAN,CAAwBiB,SAAxB,CAC5B,UAACd,IAAD;AAAA,eAAUA,IAAI,CAACO,EAAL,KAAYJ,MAAM,CAACY,GAA7B;AAAA,OAD4B,CAA9B;;AAGA,UAAMI,wBAAwB,sBAAOjB,KAAK,CAACL,iBAAb,CAA9B;;AACAsB,MAAAA,wBAAwB,CAACD,qBAAD,CAAxB,GAAkDF,cAAlD;AAEA,6CACKd,KADL;AAEEL,QAAAA,iBAAiB,EAAEsB,wBAFrB;AAGErB,QAAAA,YAAY,EAAEmB;AAHhB;;AAMF,SAAKvB,cAAL;AACE,6CACKQ,KADL;AAEEJ,QAAAA,YAAY,EAAEI,KAAK,CAACJ,YAAN,CAAmBC,MAAnB,CACZ,UAACqB,OAAD;AAAA,iBAAaA,OAAO,CAACb,EAAR,KAAeJ,MAAM,CAACY,GAAnC;AAAA,SADY,CAFhB;AAKElB,QAAAA,iBAAiB,EAAEK,KAAK,CAACL,iBAAN,CAAwBE,MAAxB,CACjB,UAACqB,OAAD;AAAA,iBAAaA,OAAO,CAACb,EAAR,KAAeJ,MAAM,CAACY,GAAnC;AAAA,SADiB;AALrB;AA5CJ;;AAsDA,SAAOb,KAAP;AACD,CAxDD","sourcesContent":["import PRODUCTS from \"../../data/dummy-data\";\nimport Product from \"../../models/product\";\nimport {\n  CREATE_PRODUCT,\n  DELETE_PRODUCT,\n  UPDATE_PRODUCT,\n} from \"../action/products\";\n\nconst initialState = {\n  availableProducts: PRODUCTS,\n  userProducts: PRODUCTS.filter((prod) => prod.ownerId === \"u1\"),\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case CREATE_PRODUCT:\n      const newProduct = new Product(\n        action.productData.id,\n        \"u1\",\n        action.productData.title,\n        action.productData.imageUrl,\n        action.productData.description,\n        action.productData.price\n      );\n      return {\n        ...state,\n        availableProducts: state.availableProducts.concat(newProduct),\n        userProducts: state.userProducts.concat(newProduct),\n      };\n\n    case UPDATE_PRODUCT:\n      const productIndex = state.userProducts.findIndex(\n        (prod) => prod.id === action.pid\n      );\n      const updatedProduct = new Product(\n        action.pid,\n        state.userProducts[productIndex].ownerId,\n        action.productData.title,\n        action.productData.imageUrl,\n        action.productData.description,\n        state.userProducts[productIndex].price\n      );\n\n      const updatedUserProducts = [...state.userProducts];\n      updatedUserProducts[productIndex] = updatedProduct;\n      const availableProductIndex = state.availableProducts.findIndex(\n        (prod) => prod.id === action.pid\n      );\n      const updatedAvailableProducts = [...state.availableProducts];\n      updatedAvailableProducts[availableProductIndex] = updatedProduct;\n\n      return {\n        ...state,\n        availableProducts: updatedAvailableProducts,\n        userProducts: updatedUserProducts,\n      };\n\n    case DELETE_PRODUCT:\n      return {\n        ...state,\n        userProducts: state.userProducts.filter(\n          (product) => product.id !== action.pid\n        ),\n        availableProducts: state.availableProducts.filter(\n          (product) => product.id !== action.pid\n        ),\n      };\n  }\n  return state;\n};\n"]},"metadata":{},"sourceType":"module"}